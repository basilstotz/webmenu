<!doctype html>
<html class=thin-client >
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <title>Webmenu</title>

    <link rel="stylesheet" href="styles/vendor/font/iconfont.css">
    <link rel="stylesheet" href="styles/main.css">
    <script src="i18n/en/i18n.js"></script>
    <script>
      (function() {
        if (!process.env.WM_ENV) {
          console.error("No WM_ENV set!");
          console.error("Use bin/webmenu or bin/webmenu-dev");
          process.exit(1);
        }
        window.gui = require('nw.gui');

        // node-webkit boot up starts here.
        console.log(gui.App.argv);
        if (gui.App.argv.indexOf("--test") !== -1) {
           window.location = "tests.html";
           return;
        }

        console.log("It's now " + new Date());
        require("./lib/logStartTime")("plain node-webkit started");

        // English is always loaded, but if user has prefers another language load
        // that too. It will nicely override english if it loads and silently
        // fallbacks to english if missing
        window.LANG = window.process.env.i18n || navigator.language.slice(0, 2)
        if (window.LANG !== "en") {
          document.write(
            '<script src="i18n/' + window.LANG + '/i18n.js"></' + 'script>'
          );
        }

      if (window.process.env.devtools) {
        var win = gui.Window.get();
        win.showDevTools("", true)
      }

      window.connectNode = require("./lib/native");

      // Move node.js require&process to window.nodejs to make RequireJS work.
      window.nodejs = {
         require: window.require,
         process: window.process,
      };

      window.require = window.process = undefined;
    }())
    </script>
</head>
<body>
    Loading...
    <script src="bundle.js"></script>
</body>
</html>
